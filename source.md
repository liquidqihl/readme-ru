# Liquid.qihl README

Здесь содержится вся необходимая информация для того, чтобы начать играть на нашем сервере.

### Содержание

1. [Правила сервера](#правила-сервера)
2. [Как начать играть](#как-начать-играть)  
   2.1 [Привязка Steam-аккаунта к Discord](#привязка-steam-аккаунта-к-discord)  
   2.2 [Подтверждение (верификация) Steam-аккаунта](#подтверждение-верификация-steam-аккаунта)
3. [Ранги](#ранги)  
   3.1 [Как узнать текущий ранг](#как-узнать-текущий-ранг)  
   3.2 [Как узнать Steam64ID](#как-узнать-steam64id)
4. [Как найти и присоединиться к лобби, или создать его](#как-найти-и-присоединиться-к-лобби-или-создать-его)  
   4.1 [Порядок действий](#порядок-действий)  
   4.2 [Список команд](#список-команд)  
   4.2 [Инструкция для хостов](#инструкция-для-хостов)
5. [Как пожаловаться на игрока](#как-пожаловаться-на-игрока)  
   5.1 [Из-за чего на вас могут пожаловаться](#из-за-чего-на-вас-могут-пожаловаться)

## Правила сервера

**Запрещается**:

1. Угрожать разглашением чьей-либо персональной информации, устраивать DDoS-атаки на серверы Discord или серверы DAC.
2. Нарушать условия использования Discord.
3. Играть в лобби, имея ранг ниже требуемого.  
   Если же это все-таки произошло, вы обязаны сдаться (написать `-refresh` в чате **игры**). Правило действует только на лобби, которые были созданы **через бота**.
4. Писать любые пароли в каналах, которые предназначены для лобби, созданных через бота.
5. Где-либо разглашать пароли от лобби, которые были созданы **с помощью бота**.

## Как начать играть

Пожалуйста прочитайте правила представленные выше. Это сохранит время и вам, и администрации сервера.

### Привязка Steam-аккаунта к Discord

Для начала, вы должны привязать ваш Steam-аккаунт к Discord.

Что нужно сделать:

1. Перейдите в настройки.  
   ![User Settings](https://lh3.googleusercontent.com/gNZDNSHJOyAnmJy4Fn-ja-eDP-w38ls5TD_Ao2mIcDMRqvJiIwoAFFTg0GJK6w9DUIMd_8L-llg)
2. Перейдите в "Интеграции" (или "Connections" в английской версии).  
   ![Connections](https://lh3.googleusercontent.com/hpRL5tSLJ0dsEERzj0hZzLVvfxjpffgZdvCxIBQoFN9UFmSjSn3RIPYyHAjzj0O8NRzHglmR3RM)
3. Нажмите на иконку Steam.  
   ![Steam connection](https://lh3.googleusercontent.com/v3-DfaEta2tCH8gGCypnNrqXFF7e_Wb6sbKyGEGIBs2yalK43cbQGqp6o6Fh6PL-2UxoKP5NMkM)
4. Система предложит вам зайти в Steam, если вы еще не сделали это.
5. _**Убедитесь, что вы используете правильный Steam-аккаунт**_  
   (здесь должны быть данные аккаунта Steam, с которого вы хотите играть на нашем сервере):  
   ![Steam Account](https://i.ibb.co/vdcS5T7/1.jpg)
6. Нажмите кнопку "Sign In".  
   ![Steam Sign In](https://i.ibb.co/pRxzRbW/2.jpg)
7. Вы успешно привязали Steam-аккаунт к Discord.  
   **Перейдите к [верификации аккаунта](#подтверждение-верификация-steam-аккаунта)**.  
   ![Success](https://lh3.googleusercontent.com/msiV6wHPJBbXPRwt-9_Wcau_7rzEkF_DexUNk-fQv5klgQXHFDbYfVuv-jNV3ym0lCLvUuknkj8)

### Подтверждение (верификация) Steam-аккаунта

1. Перейдите по <a href="http://autochessbot.vinthian.com" target="_blank">этой ссылке</a>.
2. Войдите в ваш Discord-аккаунт (**Обязательно в тот же, который вы используете в приложении**).
3. Нажмите на кнопку "Authorize".  
   ![Authorization](https://lh3.googleusercontent.com/S3u_83CYeR_FNnrbQopDhyWwRU7J-El8sRqPQj2ddz6SvfZ_ODs1MkoCCQPqazznOrYbTWNB1OA)
4. Нажмите на ссылку.  
   ![Linking](https://lh3.googleusercontent.com/iPPMn6Bgkyy-Ar6pyy9sO_NAinf2hDf0XyAPiFsbHJsezdoQ4ltYngEsWIAWck4p8GyzHsZfpao)
5. Если вы увидите сообщение `You have successfully linked to steamID: [ваш steam64id]`, то всё прошло успешно.  
   Напишите команду `!updateroles` в канал `#chessbot-commands`, чтобы получить роли, соответствующие вашему рангу.  
   Теперь вы можете [играть в лобби](#как-найти-и-присоединиться-к-лобби-или-создать-его).

## Ранги

Лобби на сервере организованы следующим образом:

- Beginner: `Не определённый` и выше
- Intermediate: `Слон-1` и выше
- Advanced: `Слон-6` и выше
- Expert: `Ладья-1` и выше
- Master: `Ладья-4` и выше

### Как узнать текущий ранг

Аргументы нужно писать **БЕЗ** `[]` - здесь они используются для наглядности.

Используйте эти команды в `#chessbot-commands`, **НЕ** в `#help-desk`:

- Узнать (и обновить) ваш ранг: `!rank`
- Узнать ранг другого игрока:
  - `!rank [Steam64ID]`
  - `!rank [@DiscordName#0000]`  
    _Убедитесь, что создалось **упоминание** данного игрока._

### Как узнать Steam64ID

1. Скопируйте ссылку на ваш профиль Steam и затем вставьте её в соответствующее поле на сайте <a href="https://steamidfinder.com" target="_blank">SteamIDFinder</a>.
2. Нажмите кнопку "Get SteamID"
3. Скопируйте число справа от "steamID64".  
   Теперь вы можете использовать его, чтобы узнать ранг: `!rank [Steam64ID]` (писать без `[]`).  
   Аналогично можно узнавать и ранги других игроков.

## Как найти и присоединиться к лобби, или создать его

Игры проводятся с помощью ChessBot.  
Чтобы взаимодействовать с ботом, вы должны разрешить личные сообщения от участников сервера.

Используйте приведённые ниже команды **ТОЛЬКО** в каналах `#[rank]-lobbies` или `#[rank]-lobbies-[region]` (то есть, `#beginner-lobbies`, `#intermediate-lobbies-ru` и т.д.).

Если вы не знаете, какой канал вам нужно использовать, ознакомьтесь с [системой рангов](#ранги).

#### Порядок действий:

1. Напишите `!list`, чтобы показать доступные на данный момент лобби.
2. Используйте `!join [region]` или `!join [@HostDiscordName#0000]`, чтобы присоединиться к лобби.
3. ChessBot отправит пароль в ваши личные сообщения.  
   Используйте его, чтобы присоединиться к лобби в игре: `Игротека => Список лобби => Закрытое лобби`.

#### Список команд:

Аргументы нужно писать **БЕЗ** `[]` - здесь они используются для наглядности.

- Показать доступные на данные момент лобби:

  - `!list`

- Присоединение к лобби:

  - `!join [region]`  
    Доступны следующие регионы: `RU`, `EUE`, `EUW`, `NA`, `SA`, `SEA` и `OCE`.

  - `!join [@HostDiscordName#0000]`  
    Где `[@HostDiscordName#0000]` - имя хоста лобби.

- Выйти из лобби:

  - `!leave`

- Создание и управление лобби:  
  Прочитайте [инструкцию для хостов](#инструкция-для-хостов).

#### Инструкция для хостов

Вы можете создавать лобби двумя способами:

- `!host [region]` - создаст лобби с ограничением в виде минимального ранга данного канала.  
  Например, в канале `#intermediate-lobbies-ru`, таким образом создастся лобби с ограничением в `Bishop-1`.

- `!host [region] [Rank-X]` - создаст лобби с ограничением в виде `[Rank-X]`, где `[Rank-X]` - выбранный вами ранг.  
  Примеры рангов: `Bishop-1`, `Knight-6`, `Rook-3`.  
  Учтите, что вы **не можете** поставить в виде ограничения свой ранг или ранг на 1 ниже.  
  **То есть, игрок с `Bishop-5` может ставить максимальное ограничение в `Bishop-3`.**

После того, как вы создали лобби, ChessBot пришлет пароль вам в личные сообщения.  
Вы должны создать в игре закрытое лобби с данным паролем.

Осталось подождать, пока игроки присоединятся к вашему лобби и зайдут в него в игре.  
После этого, когда игра началась и все игроки успешно загрузились, **напишите команду `!start`** в тот канал, в котором вы создавали лобби. Это **необходимо** сделать, чтобы в случае нарушения игроками правил, администрация сервера могла быстро разрешить конфликт. **Пожалуйста, не забывайте об этой команде**.

Дополнительные команды:

- `!cancel` - Отменить игру и удалить ваше лобби.
- `!kick [@DiscordName#0000]` - выгнать игрока из лобби.  
  Данная команда нужна в той ситуации, если игрок покинул лобби Dota 2, но не вышел из лобби в канале Discord.  
  Тогда он будет занимать место в лобби, на самом деле не находясь в нём.

## Как пожаловаться на игрока

Приведенная ниже инструкция **НЕ ПРИМЕНИМА К** лобби, которые были созданы вручную, без использования бота (например, `#intermediate-lobbies-no-bot`).  
Мы контролируем ранги **только** в лобби, которые были созданы **через бота**.

Если в игре оказался игрок, ранг которого ниже, чем допустимый в данном лобби (например, вы начали игру в лобби с ограничением `Bishop-1`+, но в игре есть игрок с рангом `Knight-8`), то попросите его написать `-refresh` в чат игры (не в чат Дискорд), чтобы он незамедлительно перестал играть. _Постарайтесь при этом сами не написать `-refresh`, иначе вы мгновенно умрете в игре._ Если игрок отказывается сдаться, то обратитесь в канал `#player-reports` и предоставьте:

1. Скриншот из игры (желательно с чатом).
2. Ссылку на Steam-профиль нарушителя.
3. Сообщение бота после того, как хост написал команду `!start` (желательно, но не обязательно).

**Но пожалуйста, старайтесь не обращать внимания на такие ситуации, если разница в рангах составляет единицу. Такое часто происходит, и уверяем вас, маленькая разница сильно не повлияет на ваш MMR. Такие ситуации не выгодно рассматривать и этот процесс тратит много времени у администрации.**

Однако мы не обязываем вас так делать, и мы не поддерживаем такое поведение. Мы всё ещё будем выдавать баны за такое, поэтому пожалуйста, будьте внимательней.

#### Из-за чего на вас могут пожаловаться

Если вы проиграли в игре, и ваш ранг должен будет из-за этого понизиться, не заходите в лобби, ограничение которого может оказаться больше чем ваш новый ранг. Дождитесь конца предыдущей игры и обновления вашего ранга.  
Иначе вы можете попасть в ситуацию, описанную выше, и вам придётся написать `-refresh`.

Пример: на данный момент у вас ранг `Bishop-5`, но ваша прошлая игра еще не закончилась, вы заняли в ней последнее место и покинули её.  
Если вы присоединитесь к лобби с ограничением `Bishop-5`, и перед началом игры ваша прошлая игра закончится, ваш ранг изменится и вы станете `Bishop-3`.  
Таким образом получится, что ваш ранг ниже, чем ограничение лобби. Старайтесь не создавать такие ситуации и всегда ждите обновления вашего ранга.
